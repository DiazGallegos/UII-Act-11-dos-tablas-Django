{% extends 'base.html' %}
{% block titulo %}Lista de Jugadores{% endblock %}

{% block contenido %}
<h2>Tabla de Jugadores</h2>
<a href="{% url 'app_futbol:crear_jugador' %}" class="btn btn-primary">Agregar Nuevo Jugador</a>

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Foto</th>
            <th>Equipo (Clave For치nea)</th>
            <th>Nombre Completo</th>
            <th>Fecha Nacimiento</th>
            <th>Posici칩n</th>
            <th>N칰mero Camiseta</th>
            <th>Nacionalidad</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for jugador in jugadores %}
        <tr>
            <td>{{ jugador.id }}</td>
            <td>
                {% if jugador.foto_jugador %}
                    <img src="{{ jugador.foto_jugador.url }}" alt="Foto de {{ jugador.nombre_completo }}" width="60" height="60" style="border-radius: 50%; object-fit: cover;">
                {% else %}
                    <div style="width: 60px; height: 60px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #999;">
                        游녻
                    </div>
                {% endif %}
            </td>
            <td>
                <strong>{{ jugador.equipo.nombre }}</strong><br>
                <small>ID Equipo: {{ jugador.equipo.id }}</small>
            </td>
            <td>{{ jugador.nombre_completo }}</td>
            <td>{{ jugador.fecha_nacimiento }}</td>
            <td>{{ jugador.get_posicion_display }}</td>
            <td>{{ jugador.numero_camiseta }}</td>
            <td>{{ jugador.nacionalidad }}</td>
            <td class="actions">
                <a href="{% url 'app_futbol:editar_jugador' jugador.id %}" class="btn btn-edit">Editar</a>
                <a href="{% url 'app_futbol:borrar_jugador' jugador.id %}" class="btn btn-delete">Borrar</a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="9" style="text-align: center;">No hay jugadores registrados</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<h3>Relaci칩n Equipo-Jugador (Clave For치nea)</h3>
<table>
    <thead>
        <tr>
            <th>Foto</th>
            <th>ID Jugador</th>
            <th>Jugador</th>
            <th>ID Equipo</th>
            <th>Equipo (For치neo)</th>
            <th>Siglas Equipo</th>
        </tr>
    </thead>
    <tbody>
        {% for jugador in jugadores %}
        <tr>
            <td>
                {% if jugador.foto_jugador %}
                    <img src="{{ jugador.foto_jugador.url }}" alt="Foto" width="40" height="40" style="border-radius: 50%; object-fit: cover;">
                {% else %}
                    <div style="width: 40px; height: 40px; background: #f0f0f0; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: #999;">
                        游녻
                    </div>
                {% endif %}
            </td>
            <td>{{ jugador.id }}</td>
            <td>{{ jugador.nombre_completo }}</td>
            <td>{{ jugador.equipo.id }}</td>
            <td>{{ jugador.equipo.nombre }}</td>
            <td>{{ jugador.equipo.siglas }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}